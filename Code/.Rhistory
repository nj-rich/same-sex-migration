library(tidyverse)
install.packages("data.table")
library(data.table)
pull1 <- fread("/Users/njrich/Desktop/Econ495/same-sex-migration/Data/pull1/pull1.csv")
head_view <- head(pull1, 10)
View(head_view)
pull1 <- pull1 %>%
mutate("samesex" = SPLOC)
initial_head_view <- head(pull1, 10)
head(pull1)
rm(list = ls())
library(tidyverse)
install.packages("data.table")
library(data.table)
pull1 <- fread("/Users/njrich/Desktop/Econ495/same-sex-migration/Data/pull1/pull1.csv")
initial_head_view <- head(pull1, 10)
df <- pull1
View(initial_head_view)
#make partner list
partners <- df %>%
select(YEAR, SAMPLE, PERNUM, SEX)
View(partners)
head(partners)
?left_join
?join_by
rm(partners)
head_partner <- head(partner)
#make partner list
partner <- df %>%
select(YEAR, SAMPLE, PERNUM, SEX)
head_partner <- head(partner)
View(head_partner)
#join partners with
df <- df %>%
left_join(partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
#join partners with
df <- df %>%
left_join(partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
?fread
memory.limit(size = 10096)
ulimit -a
class(df)
class(partner)
df <- df %>%
left_join(partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
memory.size(max = FALSE)
rm(head_partner, initial_head_view, pull1)
df <- df %>%
left_join(partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
?merge
library(tidyverse)
install.packages("data.table")
library(data.table)
rm(list = ls())
library(tidyverse)
install.packages("data.table")
library(data.table)
pull1 <- fread("/Users/njrich/Desktop/Econ495/same-sex-migration/Data/pull1/pull1.csv")
initial_head_view <- head(pull1, 10)
df <- pull1
rm(pull1)
#join partners with
df <- merge(df, partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
#make partner list
partner <- df %>%
select(YEAR, SAMPLE, PERNUM, SEX)
head_partner <- head(partner)
#join partners with
df <- merge(df, partner, join_by(SPLOC == PERNUM, YEAR, SAMPLE))
#join partners with
df <- merge(df, partner, by = c(YEAR, SAMPLE), by.x = SPLOC, by.y = PERNUM, all.x = T)
View(initial_head_view)
#join partners with
df <- merge(df, partner, by = c(YEAR, SAMPLE), by.df = SPLOC, by.partner = PERNUM, all.df = T)
#join partners with
df <- merge(df, partner, by = c(YEAR, SAMPLE))
View(head_partner)
#join partners with
df <- merge(df, partner, by = YEAR)
#join partners with
df_test <- df[partner, on = .(YEAR, SAMPLE, SPLOC == PERNUM)]
#join partners with
df_test <- df[partner, on = .(YEAR, SAMPLE, PERNUM)]
#join partners with
df_test <- df[partner, on = .(YEAR, SERIAL, PERNUM)]
#make partner list
partner <- df %>%
select(YEAR, SERIAL, PERNUM, SEX)
head_partner <- head(partner)
#join partners with
df_test <- df[partner, on = .(YEAR, SERIAL, PERNUM)]
View(partner)
View(initial_head_view)
View(head_partner)
#join partners with
df_test <- df[partner, on = .(YEAR, SERIAL, PERNUM)]
#join partners with
df_test <- df[partner, on = .(YEAR, SERIAL, SPLOC == PERNUM)]
View(df)
#join partners with og
df_test <- merge(df, partner, by = c("YEAR", "SERIAL", "PERNUM"))
df_filtered <- df %>%
filter(SPLOC != 0)
partner <- df %>%
select(YEAR, SERIAL, PERNUM, SEX) %>%
filter(SPLOC != 0)
partner <- df %>%
select(YEAR, SERIAL, PERNUM, SEX, SPLOC) %>%
filter(SPLOC != 0)
rm(list = ls())
pull1 <- fread("/Users/njrich/Desktop/Econ495/same-sex-migration/Data/pull1/pull1.csv")

---
title: "data_cleaning"
output: html_document
date: "2024-03-07"
---
Load packages and set memory limit
```{r}

library(tidyverse)
install.packages("data.table")
library(data.table)
```

Download the data
```{r}
pull1 <- fread("/Users/njrich/Desktop/Econ495/same-sex-migration/Data/pull1/pull1.csv")
initial_head_view <- head(pull1, 10)

df <- pull1
```

Identify individuals in same-sex relationships
```{r}
#make partner list
partner <- df %>%
            select(YEAR, SERIAL, PERNUM, SEX)

head_partner <- head(partner)
#join partners with og
df_test <- df[partner, on = .(YEAR, SERIAL, SPLOC == PERNUM)]

#still memory issue even though I am not sure this syntax is even right

#identify gay by checking if individuals with partner have matching sex of partner
```

Label states+
```{r}

```